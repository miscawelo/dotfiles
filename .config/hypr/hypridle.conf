general {
  lock_cmd = systemctl suspend-then-hibernate
  unlock_cmd =
  before_sleep_cmd = hyprlock
  after_sleep_cmd = dunstify "Welcome back, $(whoami)!" -h string:x-dunst-stack-tag:hypridle
  ignore_dbus_inhibit = false
}

listener {
  timeout = 300
  on-timeout = brightnessctl -s ; $HOME/bin/screen-dimmer
  on-resume = kill $(ps sh | grep screen-dimmer | cut -d ' ' -f4) ; brightnessctl -r
}

listener {
  timeout = 600
  on-timeout = hyprctl dispatch dpms off
  on-resume = hyprctl dispatch dpms on
}

listener {
  timeout = 900
  on-timeout = loginctl lock-session
  on-resume = loginctl unlock-session
}
